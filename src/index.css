/* --- Layout base y variables --- */
:root{
  --content: 1200px;              /* ancho máximo del contenido 1140/1200/1280/1440 */
  --g: 16px;                      /* gap */
  --pad: clamp(12px, 2vw, 24px);  /* padding responsivo */
  --chart-h: clamp(300px, 45vh, 440px); /* altura “bonita” para gráficos */
}

*,
*::before,
*::after { box-sizing: border-box; }

html, body, #root { height: 100%; }
body { margin: 0; background:#0f0f11; color:#eaeaea; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

.shell { min-height: 100dvh; }

.container {                     /* ⬅️ contenedor centrado y con ancho máximo */
  width: min(var(--content), 92vw);
  margin-inline: auto;
  padding-inline: var(--pad);
  display: grid;
  gap: var(--g);
}

h1 { 
  font-size: clamp(24px, 4vw, 48px); 
  margin: 8px 0 0;
  text-align: center; 
}

.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
  border-bottom: 1px solid #2a2f32;
  margin-bottom: 20px;
}

.header-branding {
  text-align: right;
}

.brand-text {
  font-size: 18px;
  font-weight: 600;
  color: #e9eef2;
  margin-bottom: 4px;
}

.brand-subtitle {
  font-size: 14px;
  color: #94a3b8;
  font-style: italic;
}

/* Panel / tarjeta */
.panel {
  background:#171a1d;
  border:1px solid #2a2f32;
  border-radius:12px;
  padding: var(--pad);
}

/* Evita overflow en la barra de filtros */
.toolbar > * { min-width: 0; }
.toolbar select, .toolbar input { width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }



/* Barra de filtros (responsive) */
.toolbar {
  display:grid;
  gap: var(--g);
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  align-items: end;
}
.toolbar select,
.toolbar input {
  background:#0f1315; color:#e9eef2;
  border:1px solid #2a2f32; border-radius:8px; padding:8px 10px;
}

.toolbar select:disabled {
  background:#1a1d20; color:#6a6f73;
  cursor: not-allowed;
  opacity: 0.6;
}
/* que la tarjeta sepa su ancho para escalar el font-size */
/* que la tarjeta sepa su ancho para escalar el font-size */
/* la grilla se adapta: 1..n columnas según ancho */
/* 4 columnas fijas para KPIs */
.kpi-grid{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr)); /* ⬅️ siempre 4 */
  gap: 12px;
}

/* tarjeta KPI: label arriba, valor abajo */
.kpi{
  display:grid;
  grid-template-rows: auto 1fr auto;
  gap: 8px;
  background: linear-gradient(135deg, #1e2124 0%, #2a2f32 100%);
  border: 1px solid #3a3f42;
  border-radius: 12px;
  padding: 20px;
  min-height: 120px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.kpi:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  border-color: #4a4f52;
}

.kpi-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 8px;
}

.kpi-trend {
  font-size: 14px;
  font-weight: bold;
}

.kpi-trend-up {
  color: #4ade80;
}

.kpi-trend-down {
  color: #f87171;
}

.kpi-trend-neutral {
  color: #94a3b8;
}

.kpi-subtitle {
  font-size: 12px;
  color: #94a3b8;
  font-weight: 500;
}

/* números más contenidos para que quepan */
.kpi-value{
  font-size: clamp(18px, 2.3vw, 32px);
  line-height: 1.05;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;     /* si aún se excede, corta con … */
}

.kpi-label{ font-size:13px; opacity:.95; }


/* Contenedor del gráfico (controla la altura) */
.chart { width:100%; height: var(--chart-h); }

/* Tabla con cabecera fija */
.table-wrap { max-height: 50vh; overflow: auto; border:1px solid #2a2f32; border-radius:12px; }
.table { width:100%; border-collapse: collapse; }
.table thead { position: sticky; top: 0; background:#1b2126; z-index: 1; }
.table th, .table td { padding: 8px; border-bottom:1px solid #233038; text-align:left; vertical-align: top; word-break: break-word; }

/* Nuevos estilos para tablas mejoradas */
.works-table, .alerts-table {
  background: #1e2124;
  border: 1px solid #2a2f32;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 20px;
}

.works-table-title, .alerts-title {
  font-size: 18px;
  font-weight: 600;
  margin: 0 0 16px 0;
  color: #e9eef2;
  display: flex;
  align-items: center;
  gap: 8px;
}

.alerts-count {
  background: #dc2626;
  color: white;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
}

.table-container {
  max-height: 400px;
  overflow: auto;
  border: 1px solid #2a2f32;
  border-radius: 8px;
}

.table-header {
  background: #1b2126;
  color: #e9eef2;
  font-weight: 600;
  padding: 12px 8px;
  border-bottom: 2px solid #2a2f32;
}

.table-row {
  transition: background-color 0.2s ease;
}

.table-row:hover {
  background: #2a2f32;
}

.table-cell {
  padding: 12px 8px;
  border-bottom: 1px solid #233038;
  color: #e9eef2;
}

.work-name {
  font-weight: 500;
  max-width: 300px;
}

.work-date {
  color: #94a3b8;
  font-size: 14px;
}

.work-cost {
  font-weight: 600;
  color: #4ade80;
  text-align: right;
}

.alert-name {
  font-weight: 500;
  color: #f87171;
}

.alert-description {
  color: #94a3b8;
  font-size: 14px;
  max-width: 400px;
}

.no-data {
  text-align: center;
  color: #6a6f73;
  font-style: italic;
  padding: 20px;
}

.works-table-footer, .alerts-footer {
  margin-top: 12px;
  text-align: right;
  font-size: 12px;
  color: #6a6f73;
}

/* Layout mejorado para el dashboard */
.dashboard-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 20px;
  margin-top: 20px;
}

.dashboard-main {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.dashboard-sidebar {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Responsive */
@media (max-width: 1024px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
  
  .kpi-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .kpi-grid {
    grid-template-columns: 1fr;
  }
}
